// ===============================================
// Centerville FD - Main JavaScript (Fresh & Clean)
// For use with index.html and report pages
// ===============================================
// Minimal service worker for PWA "installable" feel
self.addEventListener('install', (e) => {
    self.skipWaiting();
});

self.addEventListener('fetch', (e) => {
    // Optional: cache strategy (can be empty for now)

});
document.addEventListener('DOMContentLoaded', () => {
    console.log('Centerville FD system loaded - New JS folder active!');

    // === File Upload Handler (for Upload Training Sheets card) ===
    const fileInput = document.getElementById('file-upload');
    const uploadTrigger = document.querySelector('.upload-trigger');

    if (uploadTrigger && fileInput) {
        uploadTrigger.addEventListener('click', (e) => {
            e.preventDefault();
            fileInput.click();
        });

        fileInput.addEventListener('change', (e) => {
            const files = e.target.files;
            if (files.length === 0) return;

            let message = `You selected ${files.length} file${files.length > 1 ? 's' : ''}:\n\n`;
            for (let file of files) {
                const sizeKB = (file.size / 1024).toFixed(1);
                message += `â€¢ ${file.name} (${sizeKB} KB)\n`;
            }
            message += `\nFiles are ready. In a live system, they would be uploaded to the server.`;

            alert(message);
            console.log('Selected files:', files);
        });
    }


    // === Placeholder for future features ===
    // Example: Add smooth scrolling, dark mode toggle, etc. later
    // const smoothLinks = document.querySelectorAll('a[href^="#"]');
    // smoothLinks.forEach(link => {
    //     link.addEventListener('click', (e) => {
    //         e.preventDefault();
    //         document.querySelector(link.getAttribute('href')).scrollIntoView({ behavior: 'smooth' });
    //     });
    // });

    // You can add more features here as needed!
});
